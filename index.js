"use strict";var express=require("express"),app=express(),morgan=require("morgan"),bodyParser=require("body-parser"),methodOverride=require("method-override"),fs=require("fs");app.use(express.static(__dirname+"/public")),app.use(express.static(__dirname+"/jsonDB")),app.use(morgan("dev")),app.use(bodyParser.urlencoded({extended:"true"})),app.use(bodyParser.json()),app.use(methodOverride()),app.get("/api/users",function(e,r){r.sendFile(__dirname+"/jsonDB/users.json")}),app.post("/api/auth",function(e,r){var s=null;fs.readFile(__dirname+"/jsonDB/auth.json","utf-8",function(a,n){a||(JSON.parse(n).map(function(r,a){r.authToken===e.body.token&&1===r.status&&(s=!0)}),!0===s?r.json(s):r.sendStatus(401))})}),app.get("/api/about",function(e,r){console.log("req.param",e.param)}),app.get("*",function(e,r){r.sendFile(__dirname+"/public/index.html")}),app.listen(3030),console.log("Server started listening on 3030");